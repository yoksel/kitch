!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=21)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.config={top:{width:[50,150,100,50],height:60,deep:40},bottom:{width:[250,150,100,50],height:100,deep:60},verticalGap:50}},function(t,e){throw new Error("Module parse failed: Unexpected character 'ï¿½' (1:4)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(t,e){throw new Error("Module parse failed: Unexpected character '\0' (1:6)\nYou may need an appropriate loader to handle this file type.\n(Source code omitted for this binary file)")},function(t,e,o){t.exports=o.p+"2ae2538f98326ee271375580b8ef2608.jpg"},function(t,e,o){t.exports=o.p+"2f4539e7c4a1837b87a1e1160199a100.jpg"},function(t,e,o){t.exports=o.p+"f874662179a317dbdda0f0c1b4ad1a6b.jpg"},function(t,e,o){t.exports=o.p+"9359abfb691f46e67ac6d14a0297620f.jpg"},function(t,e,o){t.exports=o.p+"581486b0c9cf53c026150ef6c44db5ea.jpg"},function(t,e,o){t.exports=o.p+"41a74d92edfed147c06fabf59cac4d1b.jpg"},function(t,e,o){t.exports=o.p+"b90472bf5db0c86ed5de48d299c93551.jpg"},function(t,e,o){t.exports=o.p+"5d311f0d97ad037eb9b1eded43bc5887.jpg"},function(t,e,o){t.exports=o.p+"92b0dced111a4b002e3ccc6d1b19494f.jpg"},function(t,e,o){t.exports=o.p+"93c562ddb39457cf1704b631fb084ff2.jpg"},function(t,e,o){t.exports=o.p+"0b5a043b68db3395d31e3e21fba8f3ed.jpg"},function(t,e,o){t.exports=o.p+"2136a00f74b21e3bc448b9a0c8673bb3.jpg"},function(t,e,o){t.exports=o.p+"036d66266ed4f1b98711bdd853da994a.jpg"},function(t,e,o){t.exports=o.p+"f537103009de39e45e70d8af85f10c9b.jpg"},function(t,e,o){var n={"./patterns/lsd-2.jpg":16,"./patterns/lsd-3.jpg":15,"./patterns/lsd.jpg":14,"./patterns/plastic-1.jpg":13,"./patterns/plastic-2.jpg":12,"./patterns/plastic-3.jpg":11,"./patterns/wood-1.jpg":10,"./patterns/wood-2.jpg":9,"./patterns/wood-3.jpg":8,"./walls/blue-tiles.jpg":7,"./walls/brown-tiles.jpg":6,"./walls/circles.jpg":5,"./walls/galaxy.jpg":4,"./walls/gray-tiles.jpg":3,"./wash-machines/electrolux.webp":2,"./wash-machines/indesit.webp":1};function r(t){var e=i(t);return o(e)}function i(t){var e=n[t];if(!(e+1)){var o=new Error('Cannot find module "'+t+'".');throw o.code="MODULE_NOT_FOUND",o}return e}r.keys=function(){return Object.keys(n)},r.resolve=i,t.exports=r,r.id=17},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setSizes=e.elementsMap=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=o(0);var i=new Map;e.elementsMap=i,e.setSizes=function(){var t,e={top:(t=(t=[r.config.top.width,r.config.bottom.width]).map(function(t){return"object"===(void 0===t?"undefined":n(t))&&(t=t.reduce(function(t,e){return t+=e},0)),t}))[0],bottom:t[1],max:Math.max.apply(Math,function(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}(t))};i.set(".wrapper",{width:e.max}),i.set(".scene",{width:e.max,height:r.config.verticalGap+r.config.top.height+r.config.bottom.height}),i.set(".block--top",{width:e.top,height:r.config.top.height,transform:"translateZ("+r.config.top.deep+"px)"}),i.set(".top__top",{width:e.top,height:r.config.top.deep}),i.set(".top__bottom",{width:e.top,height:r.config.top.deep}),i.set(".top__side",{width:r.config.top.deep,height:r.config.top.height}),i.set(".top__front",{width:r.config.top.width,height:r.config.top.height}),i.set(".block--bottom",{width:e.bottom,height:r.config.bottom.height,transform:"translateZ("+r.config.bottom.deep+"px)"}),i.set(".bottom__top",{width:e.bottom,height:r.config.bottom.deep}),i.set(".bottom__bottom",{width:e.bottom,height:r.config.bottom.deep}),i.set(".bottom__side",{width:r.config.bottom.deep,height:r.config.bottom.height}),i.set(".bottom__front",{width:r.config.bottom.width,height:r.config.bottom.height})}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.walls=["brown-tiles.jpg","gray-tiles.jpg","galaxy.jpg"]},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.patterns=["wood-2.jpg","wood-1.jpg","wood-3.jpg","plastic-3.jpg","lsd.jpg","lsd-2.jpg","lsd-3.jpg"]},function(t,e,o){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],n=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(o.push(a.value),!e||o.length!==e);n=!0);}catch(t){r=!0,i=t}finally{try{!n&&c.return&&c.return()}finally{if(r)throw i}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();o(26);var i=o(0),a=o(20),c=o(19),s=o(18),p=(o(17),document.querySelector(".patterns")),d=document.querySelector(".walls"),l=document.querySelector(".rotator__range"),u=document.querySelector(".scene"),f=document.querySelector(".surface-sizes-css"),g=document.querySelector(".surface-patterns-css"),b=document.querySelector(".walls-css"),h=document.querySelector(".surface__size-input"),m=void 0,y=[{name:"top",parent:document.querySelector(".block--top"),block:document.querySelector(".top__front")},{name:"bottom",parent:document.querySelector(".block--bottom"),block:document.querySelector(".bottom__front")}];function v(){var t=[],e=!0,o=!1,n=void 0;try{for(var i,a=s.elementsMap[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var c=i.value,p=r(c,2),d=p[0],l=p[1],u=[];for(var g in l){var b=l[g],h=g+": "+b+("number"==typeof b?"px":"");u.push(h)}t.push(d+"{"+u.join(";\n")+"}")}}catch(t){o=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}f.innerHTML=t.join("\n")}function w(t){var e=t.elem,o=t.list,n=(t.name,t.target),r=t.styles,i=document.createElement("ul");i.classList.add("chooser__list");var a=void 0,c="chooser__item",s="chooser__item--current";o.forEach(function(t,e){var o=document.createElement("li");o.classList.add(c);var p="./img/"+t;o.style.background="url("+p+")",i.appendChild(o),0===e&&(o.classList.add("chooser__item--current"),o.classList.add(s),a=o,_(n,p,r)),o.addEventListener("click",function(){_(n,p,r),a.classList.remove(s),o.classList.add(s),a=o})}),e.appendChild(i)}function _(t,e,o){o.innerHTML=t+" {\n        background-image: url("+e+");\n    }"}function j(t,e){var o=e.dataset.line,n=e.dataset.content,r=e.dataset.pos;console.log(e.dataset),e.style[n]=t+"px",r?i.config[o][n][r]=+t:i.config[o][n]=+t,x()}function x(){(0,s.setSizes)(),v()}function S(t,e){!0==!!t.dataset.isEditing&&(t.dataset.isEditing=!1,t.querySelector(".surface__size-text").innerHTML=e+"mm",m=null,j(+e,t),x())}console.log(i.config),i.config.hello=112233,y.forEach(function(t){var e=t.name,o=i.config[e].width,r=t.block,a=t.parent;"object"===(void 0===o?"undefined":n(o))&&o.forEach(function(t,o){var n=r.cloneNode(!0);0===o&&(n=r),n.style.width=t+"px",n.dataset.line=e,n.dataset.pos=o,o>0&&a.appendChild(n)})}),(0,s.setSizes)(),v(),document.querySelectorAll(".surface[data-content]").forEach(function(t){var e=t.dataset.content,o=getComputedStyle(t)[e];o=o.replace("px","mm");var n=t.querySelector(".surface__size-text");n.innerHTML=o;var r=t.querySelector(".surface__size");r.addEventListener("click",function(){if("true"!==t.dataset.isEditing){if(console.log("click, this is not edited now"),m&&m!==r){var e=m.querySelector(".surface__size-input");S(m,e.value)}m=t,function(t){if("true"!==t.dataset.isEditing){t.dataset.isEditing=!0;var e=t.querySelector(".surface__size-text"),o=e.innerText.replace("mm","");t.dataset.oldValue=o,h.value=o,e.innerHTML="",e.appendChild(h),h.addEventListener("input",n),h.onkeyup=function(e){if(e.stopPropagation(),13===e.keyCode||27===e.keyCode){var r=h.value;27===e.keyCode&&(r=o),h.removeEventListener("input",n),S(t,r)}}}function n(e){"false"!==t.dataset.isEditing&&(e.stopPropagation(),j(h.value,t))}}(t)}})}),w({name:"patterns",elem:p,list:a.patterns,target:".surface",styles:g}),w({name:"walls",elem:d,list:c.walls,target:".wall",styles:b}),l.addEventListener("input",function(){u.style.transform="rotateY("+this.value+"deg)"})},,,,,function(t,e){}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGEvY29uZmlnLmpzIiwid2VicGFjazovLy8uL3NyYy9pbWcvd2FsbHMvZ3JheS10aWxlcy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy93YWxscy9nYWxheHkuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWcvd2FsbHMvY2lyY2xlcy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy93YWxscy9icm93bi10aWxlcy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy93YWxscy9ibHVlLXRpbGVzLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL3BhdHRlcm5zL3dvb2QtMy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9wYXR0ZXJucy93b29kLTIuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWcvcGF0dGVybnMvd29vZC0xLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL3BhdHRlcm5zL3BsYXN0aWMtMy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9wYXR0ZXJucy9wbGFzdGljLTIuanBnIiwid2VicGFjazovLy8uL3NyYy9pbWcvcGF0dGVybnMvcGxhc3RpYy0xLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1nL3BhdHRlcm5zL2xzZC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9wYXR0ZXJucy9sc2QtMy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9wYXR0ZXJucy9sc2QtMi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2ltZyBzeW5jIF5cXC5cXC8uKiQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VsZW1lbnRzTWFwLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhL3dhbGxzLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhL3BhdHRlcm5zLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiY29uZmlnIiwidG9wIiwid2lkdGgiLCJoZWlnaHQiLCJkZWVwIiwiYm90dG9tIiwidmVydGljYWxHYXAiLCJtYXAiLCIuL3BhdHRlcm5zL2xzZC0yLmpwZyIsIi4vcGF0dGVybnMvbHNkLTMuanBnIiwiLi9wYXR0ZXJucy9sc2QuanBnIiwiLi9wYXR0ZXJucy9wbGFzdGljLTEuanBnIiwiLi9wYXR0ZXJucy9wbGFzdGljLTIuanBnIiwiLi9wYXR0ZXJucy9wbGFzdGljLTMuanBnIiwiLi9wYXR0ZXJucy93b29kLTEuanBnIiwiLi9wYXR0ZXJucy93b29kLTIuanBnIiwiLi9wYXR0ZXJucy93b29kLTMuanBnIiwiLi93YWxscy9ibHVlLXRpbGVzLmpwZyIsIi4vd2FsbHMvYnJvd24tdGlsZXMuanBnIiwiLi93YWxscy9jaXJjbGVzLmpwZyIsIi4vd2FsbHMvZ2FsYXh5LmpwZyIsIi4vd2FsbHMvZ3JheS10aWxlcy5qcGciLCIuL3dhc2gtbWFjaGluZXMvZWxlY3Ryb2x1eC53ZWJwIiwiLi93YXNoLW1hY2hpbmVzL2luZGVzaXQud2VicCIsIndlYnBhY2tDb250ZXh0IiwicmVxIiwiaWQiLCJ3ZWJwYWNrQ29udGV4dFJlc29sdmUiLCJlIiwiRXJyb3IiLCJjb2RlIiwia2V5cyIsInJlc29sdmUiLCJfY29uZmlnIiwiZWxlbWVudHNNYXAiLCJNYXAiLCJzZXRTaXplcyIsIndpZHRoU2V0cyIsImNvbW1vbldpZHRoIiwid2lkdGhTZXQiLCJfdHlwZW9mIiwicmVkdWNlIiwicmVzdWx0IiwiaXRlbSIsIm1heCIsIk1hdGgiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsInNldCIsInRyYW5zZm9ybSIsIndhbGxzIiwicGF0dGVybnMiLCJfcGF0dGVybnMiLCJfd2FsbHMiLCJfZWxlbWVudHNNYXAiLCJwYXR0ZXJuc0VsZW0iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3YWxsc0VsZW0iLCJyb3RhdG9yUmFuZ2VFbGVtIiwic2NlbmVFbGVtIiwic3VyZmFjZVNpemVzQ3NzIiwic3VyZmFjZVBhdHRlcm5zQ3NzIiwid2FsbHNDc3MiLCJjaGFuZ2VTaXplSW5wdXQiLCJjdXJyZW50U3VyZmFjZUl0ZW0iLCJibG9ja3MiLCJwYXJlbnQiLCJibG9jayIsInNldFNpemVzU3R5bGVzIiwic3R5bGVzTGlzdCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24iLCJfZGlkSXRlcmF0b3JFcnJvciIsIl9pdGVyYXRvckVycm9yIiwidW5kZWZpbmVkIiwiX3N0ZXAiLCJfaXRlcmF0b3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm5leHQiLCJkb25lIiwiX3JlZiIsIl9yZWYyIiwiX3NsaWNlZFRvQXJyYXkiLCJrZXkiLCJ2YWx1ZXMiLCJ2YWx1ZXNMaXN0IiwicHJvcCIsInN0eWxlSXRlbSIsInB1c2giLCJqb2luIiwiZXJyIiwicmV0dXJuIiwiaW5uZXJIVE1MIiwic2V0UGF0dGVybnMiLCJwYXJhbXMiLCJlbGVtIiwibGlzdCIsInRhcmdldCIsInN0eWxlcyIsImxpc3RFbGVtIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImN1cnJlbnQiLCJjbGFzc2VzIiwiZm9yRWFjaCIsIml0ZW1FbGVtIiwiaW1nUGF0aCIsInN0eWxlIiwiYmFja2dyb3VuZCIsImFwcGVuZENoaWxkIiwic2V0UGF0dGVybiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJjaGFuZ2VTaXplIiwic2l6ZSIsInN1cmZhY2VJdGVtIiwibGluZSIsImRhdGFzZXQiLCJjb250ZW50IiwicG9zIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZVNpemVzIiwicmVtb3ZlU2l6ZUlucHV0IiwiaXNFZGl0aW5nIiwiaGVsbG8iLCJjdXJyZW50QmxvY2siLCJjbG9uZU5vZGUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29udGVudEtleSIsImdldENvbXB1dGVkU3R5bGUiLCJyZXBsYWNlIiwic2l6ZVRleHRFbGVtIiwic2l6ZUVsZW0iLCJjdXJyZW50U2l6ZVRleHRFbGVtIiwib2xkVmFsdWUiLCJpbm5lclRleHQiLCJjaGFuZ2VTaXplRm9ySXRlbSIsIm9ua2V5dXAiLCJldiIsInN0b3BQcm9wYWdhdGlvbiIsImtleUNvZGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkU2l6ZUlucHV0IiwidGhpcyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFB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R1pKLEVBQWlCc0QsaUJBQWlCLFFBQVMsV0FDdkNyRCxFQUFVaUQsTUFBTTVELFVBQWhCLFdBQXVDaUcsS0FBSzNKLE1BQTVDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIxKTtcbiIsImNvbnN0IGNvbmZpZyA9IHtcbiAgICB0b3A6IHtcbiAgICAgICAgd2lkdGg6IFtcbiAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgMTUwLFxuICAgICAgICAgICAgMTAwLFxuICAgICAgICAgICAgNTBcbiAgICAgICAgXSxcbiAgICAgICAgaGVpZ2h0OiA2MCxcbiAgICAgICAgZGVlcDogNDBcbiAgICB9LFxuICAgIGJvdHRvbToge1xuICAgICAgICB3aWR0aDogW1xuICAgICAgICAgICAgMjUwLFxuICAgICAgICAgICAgMTUwLFxuICAgICAgICAgICAgMTAwLFxuICAgICAgICAgICAgNTBcbiAgICAgICAgXSxcbiAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgIGRlZXA6IDYwXG4gICAgfSxcbiAgICB2ZXJ0aWNhbEdhcDogNTBcbn1cblxuZXhwb3J0IHtjb25maWd9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmFlMjUzOGY5ODMyNmVlMjcxMzc1NTgwYjhlZjI2MDguanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMmY0NTM5ZTdjNGExODM3Yjg3YTFlMTE2MDE5OWExMDAuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjg3NDY2MjE3OWEzMTdkYmRkYTBmMGMxYjRhZDFhNmIuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTM1OWFiZmI2OTFmNDZlNjdhYzZkMTRhMDI5NzYyMGYuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNTgxNDg2YjBjOWNmNTNjMDI2MTUwZWY2YzQ0ZGI1ZWEuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDFhNzRkOTJlZGZlZDE0N2MwNmZhYmY1OWNhYzRkMWIuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYjkwNDcyYmY1ZGIwYzg2ZWQ1ZGU0OGQyOTljOTM1NTEuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNWQzMTFmMGQ5N2FkMDM3ZWI5YjFlZGVkNDNiYzU4ODcuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTJiMGRjZWQxMTFhNGIwMDJlM2NjYzZkMWIxOTQ5NGYuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiOTNjNTYyZGRiMzk0NTdjZjE3MDRiNjMxZmIwODRmZjIuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMGI1YTA0M2I2OGRiMzM5NWQzMWUzZTIxZmJhOGYzZWQuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMjEzNmEwMGY3NGIyMWUzYmM0NDhiOWEwYzg2NzNiYjMuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMDM2ZDY2MjY2ZWQ0ZjFiOTg3MTFiZGQ4NTNkYTk5NGEuanBnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjUzNzEwMzAwOWRlMzllNDVlNzBkOGFmODVmMTBjOWIuanBnXCI7IiwidmFyIG1hcCA9IHtcblx0XCIuL3BhdHRlcm5zL2xzZC0yLmpwZ1wiOiAxNixcblx0XCIuL3BhdHRlcm5zL2xzZC0zLmpwZ1wiOiAxNSxcblx0XCIuL3BhdHRlcm5zL2xzZC5qcGdcIjogMTQsXG5cdFwiLi9wYXR0ZXJucy9wbGFzdGljLTEuanBnXCI6IDEzLFxuXHRcIi4vcGF0dGVybnMvcGxhc3RpYy0yLmpwZ1wiOiAxMixcblx0XCIuL3BhdHRlcm5zL3BsYXN0aWMtMy5qcGdcIjogMTEsXG5cdFwiLi9wYXR0ZXJucy93b29kLTEuanBnXCI6IDEwLFxuXHRcIi4vcGF0dGVybnMvd29vZC0yLmpwZ1wiOiA5LFxuXHRcIi4vcGF0dGVybnMvd29vZC0zLmpwZ1wiOiA4LFxuXHRcIi4vd2FsbHMvYmx1ZS10aWxlcy5qcGdcIjogNyxcblx0XCIuL3dhbGxzL2Jyb3duLXRpbGVzLmpwZ1wiOiA2LFxuXHRcIi4vd2FsbHMvY2lyY2xlcy5qcGdcIjogNSxcblx0XCIuL3dhbGxzL2dhbGF4eS5qcGdcIjogNCxcblx0XCIuL3dhbGxzL2dyYXktdGlsZXMuanBnXCI6IDMsXG5cdFwiLi93YXNoLW1hY2hpbmVzL2VsZWN0cm9sdXgud2VicFwiOiAyLFxuXHRcIi4vd2FzaC1tYWNoaW5lcy9pbmRlc2l0LndlYnBcIjogMVxufTtcblxuXG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dChyZXEpIHtcblx0dmFyIGlkID0gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSk7XG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKGlkKTtcblx0cmV0dXJuIG1vZHVsZTtcbn1cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpIHtcblx0dmFyIGlkID0gbWFwW3JlcV07XG5cdGlmKCEoaWQgKyAxKSkgeyAvLyBjaGVjayBmb3IgbnVtYmVyIG9yIHN0cmluZ1xuXHRcdHZhciBlID0gbmV3IEVycm9yKCdDYW5ub3QgZmluZCBtb2R1bGUgXCInICsgcmVxICsgJ1wiLicpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBpZDtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSAxNzsiLCJpbXBvcnQge2NvbmZpZ30gZnJvbSAnLi9kYXRhL2NvbmZpZyc7XG5cblxuY29uc3QgZWxlbWVudHNNYXAgPSBuZXcgTWFwKCk7XG5cbmZ1bmN0aW9uIHNldFNpemVzKCkge1xuICAgIGxldCBjb21tb25XaWR0aCA9IGdldFdpZHRoKCk7XG5cbiAgICBlbGVtZW50c01hcC5zZXQoJy53cmFwcGVyJywge1xuICAgICAgICB3aWR0aDogY29tbW9uV2lkdGgubWF4LFxuICAgIH0pO1xuICAgIGVsZW1lbnRzTWFwLnNldCgnLnNjZW5lJywge1xuICAgICAgICB3aWR0aDogY29tbW9uV2lkdGgubWF4LFxuICAgICAgICBoZWlnaHQ6IGNvbmZpZy52ZXJ0aWNhbEdhcCArIGNvbmZpZy50b3AuaGVpZ2h0ICsgY29uZmlnLmJvdHRvbS5oZWlnaHRcbiAgICB9KTtcblxuICAgIGVsZW1lbnRzTWFwLnNldCgnLmJsb2NrLS10b3AnLCB7XG4gICAgICAgIHdpZHRoOiBjb21tb25XaWR0aC50b3AsXG4gICAgICAgIGhlaWdodDogY29uZmlnLnRvcC5oZWlnaHQsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVooJHtjb25maWcudG9wLmRlZXB9cHgpYCxcbiAgICB9KTtcbiAgICBlbGVtZW50c01hcC5zZXQoJy50b3BfX3RvcCcsIHtcbiAgICAgICAgd2lkdGg6IGNvbW1vbldpZHRoLnRvcCxcbiAgICAgICAgaGVpZ2h0OiBjb25maWcudG9wLmRlZXAsXG4gICAgfSk7XG4gICAgZWxlbWVudHNNYXAuc2V0KCcudG9wX19ib3R0b20nLCB7XG4gICAgICAgIHdpZHRoOiBjb21tb25XaWR0aC50b3AsXG4gICAgICAgIGhlaWdodDogY29uZmlnLnRvcC5kZWVwLFxuICAgIH0pO1xuICAgIGVsZW1lbnRzTWFwLnNldCgnLnRvcF9fc2lkZScsIHtcbiAgICAgICAgd2lkdGg6IGNvbmZpZy50b3AuZGVlcCxcbiAgICAgICAgaGVpZ2h0OiBjb25maWcudG9wLmhlaWdodCxcbiAgICB9KTtcbiAgICBlbGVtZW50c01hcC5zZXQoJy50b3BfX2Zyb250Jywge1xuICAgICAgICB3aWR0aDogY29uZmlnLnRvcC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjb25maWcudG9wLmhlaWdodCxcbiAgICB9KTtcblxuICAgIGVsZW1lbnRzTWFwLnNldCgnLmJsb2NrLS1ib3R0b20nLCB7XG4gICAgICAgIHdpZHRoOiBjb21tb25XaWR0aC5ib3R0b20sXG4gICAgICAgIGhlaWdodDogY29uZmlnLmJvdHRvbS5oZWlnaHQsXG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVooJHtjb25maWcuYm90dG9tLmRlZXB9cHgpYCxcbiAgICB9KTtcbiAgICBlbGVtZW50c01hcC5zZXQoJy5ib3R0b21fX3RvcCcsIHtcbiAgICAgICAgd2lkdGg6IGNvbW1vbldpZHRoLmJvdHRvbSxcbiAgICAgICAgaGVpZ2h0OiBjb25maWcuYm90dG9tLmRlZXAsXG4gICAgfSk7XG4gICAgZWxlbWVudHNNYXAuc2V0KCcuYm90dG9tX19ib3R0b20nLCB7XG4gICAgICAgIHdpZHRoOiBjb21tb25XaWR0aC5ib3R0b20sXG4gICAgICAgIGhlaWdodDogY29uZmlnLmJvdHRvbS5kZWVwLFxuICAgIH0pO1xuICAgIGVsZW1lbnRzTWFwLnNldCggJy5ib3R0b21fX3NpZGUnLCB7XG4gICAgICAgIHdpZHRoOiBjb25maWcuYm90dG9tLmRlZXAsXG4gICAgICAgIGhlaWdodDogY29uZmlnLmJvdHRvbS5oZWlnaHQsXG4gICAgfSk7XG4gICAgZWxlbWVudHNNYXAuc2V0KCcuYm90dG9tX19mcm9udCcsIHtcbiAgICAgICAgd2lkdGg6IGNvbmZpZy5ib3R0b20ud2lkdGgsXG4gICAgICAgIGhlaWdodDogY29uZmlnLmJvdHRvbS5oZWlnaHQsXG4gICAgfSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBnZXRXaWR0aCgpIHtcbiAgICBsZXQgd2lkdGhTZXRzID0gW1xuICAgICAgICBjb25maWcudG9wLndpZHRoLFxuICAgICAgICBjb25maWcuYm90dG9tLndpZHRoXG4gICAgXTtcblxuICAgIHdpZHRoU2V0cyA9IHdpZHRoU2V0cy5tYXAod2lkdGhTZXQgPT4ge1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGhTZXQgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgIHdpZHRoU2V0ID0gd2lkdGhTZXQucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gaXRlbTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgMClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB3aWR0aFNldDtcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogd2lkdGhTZXRzWzBdLFxuICAgICAgICBib3R0b206IHdpZHRoU2V0c1sxXSxcbiAgICAgICAgbWF4OiBNYXRoLm1heCguLi53aWR0aFNldHMpXG4gICAgfTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCB7ZWxlbWVudHNNYXAsIHNldFNpemVzfTtcbiIsImNvbnN0IHdhbGxzID0gW1xuICAgICdicm93bi10aWxlcy5qcGcnLFxuICAgICdncmF5LXRpbGVzLmpwZycsXG4gICAgJ2dhbGF4eS5qcGcnLFxuXTtcblxuZXhwb3J0IHt3YWxsc307XG4iLCJjb25zdCBwYXR0ZXJucyA9IFtcbiAgICAnd29vZC0yLmpwZycsXG4gICAgJ3dvb2QtMS5qcGcnLFxuICAgICd3b29kLTMuanBnJyxcbiAgICAncGxhc3RpYy0zLmpwZycsXG4gICAgJ2xzZC5qcGcnLFxuICAgICdsc2QtMi5qcGcnLFxuICAgICdsc2QtMy5qcGcnLFxuXTtcblxuZXhwb3J0IHtwYXR0ZXJuc307XG4iLCJpbXBvcnQgJy4vc3R5bGVzLmNzcyc7XG5cbmltcG9ydCB7Y29uZmlnfSBmcm9tICcuL2RhdGEvY29uZmlnJztcbmltcG9ydCB7cGF0dGVybnN9IGZyb20gJy4vZGF0YS9wYXR0ZXJucyc7XG5pbXBvcnQge3dhbGxzfSBmcm9tICcuL2RhdGEvd2FsbHMnO1xuaW1wb3J0IHtlbGVtZW50c01hcCwgc2V0U2l6ZXN9IGZyb20gJy4vZWxlbWVudHNNYXAnO1xuXG5jb25zdCBpbWFnZXMgPSByZXF1aXJlLmNvbnRleHQoJy4vaW1nLycsIHRydWUpO1xuXG5jb25zdCBwYXR0ZXJuc0VsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGF0dGVybnMnKTtcbmNvbnN0IHdhbGxzRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53YWxscycpO1xuY29uc3Qgcm90YXRvclJhbmdlRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb3RhdG9yX19yYW5nZScpO1xuY29uc3Qgc2NlbmVFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjZW5lJyk7XG5cbmNvbnN0IHN1cmZhY2VTaXplc0NzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdXJmYWNlLXNpemVzLWNzcycpO1xuY29uc3Qgc3VyZmFjZVBhdHRlcm5zQ3NzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1cmZhY2UtcGF0dGVybnMtY3NzJyk7XG5jb25zdCB3YWxsc0NzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53YWxscy1jc3MnKTtcblxuY29uc3QgY2hhbmdlU2l6ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1cmZhY2VfX3NpemUtaW5wdXQnKTtcblxubGV0IGN1cnJlbnRTdXJmYWNlSXRlbTtcblxuY29uc3QgYmxvY2tzID0gW1xuICAgIHtcbiAgICAgICAgbmFtZTogJ3RvcCcsXG4gICAgICAgIHBhcmVudDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJsb2NrLS10b3AnKSxcbiAgICAgICAgYmxvY2s6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50b3BfX2Zyb250JyksXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib3R0b20nLFxuICAgICAgICBwYXJlbnQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ibG9jay0tYm90dG9tJyksXG4gICAgICAgIGJsb2NrOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm90dG9tX19mcm9udCcpXG4gICAgfSxcbl07XG5cbmNvbnNvbGUubG9nKGNvbmZpZyk7XG5cbmNvbmZpZy5oZWxsbyA9IDExMjIzMztcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmFkZEJsb2NrcygpO1xuc2V0U2l6ZXMoKTtcbnNldFNpemVzU3R5bGVzKCk7XG5zaG93U2l6ZXMoKTtcblxuc2V0UGF0dGVybnMoe1xuICAgIG5hbWU6ICdwYXR0ZXJucycsXG4gICAgZWxlbTogcGF0dGVybnNFbGVtLFxuICAgIGxpc3Q6IHBhdHRlcm5zLFxuICAgIHRhcmdldDogJy5zdXJmYWNlJyxcbiAgICBzdHlsZXM6IHN1cmZhY2VQYXR0ZXJuc0Nzc1xufSk7XG5zZXRQYXR0ZXJucyh7XG4gICAgbmFtZTogJ3dhbGxzJyxcbiAgICBlbGVtOiB3YWxsc0VsZW0sXG4gICAgbGlzdDogd2FsbHMsXG4gICAgdGFyZ2V0OiAnLndhbGwnLFxuICAgIHN0eWxlczogd2FsbHNDc3Ncbn0pO1xuXG5yb3RhdG9yUmFuZ2VFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkge1xuICAgIHNjZW5lRWxlbS5zdHlsZS50cmFuc2Zvcm0gPSBgcm90YXRlWSgke3RoaXMudmFsdWV9ZGVnKWA7XG59KTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHNldFNpemVzU3R5bGVzKCkge1xuICAgIGNvbnN0IHN0eWxlc0xpc3QgPSBbXTtcbiAgICBmb3IoW2tleSwgdmFsdWVzXSBvZiBlbGVtZW50c01hcCkge1xuICAgICAgICBjb25zdCB2YWx1ZXNMaXN0ID0gW107XG5cbiAgICAgICAgZm9yKHZhciBwcm9wIGluIHZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbcHJvcF07XG4gICAgICAgICAgICBjb25zdCB1bml0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgPyAncHgnIDogJyc7XG4gICAgICAgICAgICBjb25zdCBzdHlsZUl0ZW0gPSBgJHtwcm9wfTogJHt2YWx1ZX0ke3VuaXRzfWBcbiAgICAgICAgICAgIHZhbHVlc0xpc3QucHVzaChzdHlsZUl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIHN0eWxlc0xpc3QucHVzaChgJHtrZXl9eyR7dmFsdWVzTGlzdC5qb2luKCc7XFxuJyl9fWApO1xuICAgIH1cblxuICAgIHN1cmZhY2VTaXplc0Nzcy5pbm5lckhUTUwgPSBzdHlsZXNMaXN0LmpvaW4oJ1xcbicpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZnVuY3Rpb24gc2V0UGF0dGVybnMocGFyYW1zKSB7XG4gICAgY29uc3QgZWxlbSA9IHBhcmFtcy5lbGVtXG4gICAgY29uc3QgbGlzdCA9IHBhcmFtcy5saXN0O1xuICAgIGNvbnN0IG5hbWUgPSBwYXJhbXMubmFtZTtcbiAgICBjb25zdCB0YXJnZXQgPSBwYXJhbXMudGFyZ2V0O1xuICAgIGNvbnN0IHN0eWxlcyA9IHBhcmFtcy5zdHlsZXM7XG5cbiAgICBjb25zdCBsaXN0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgbGlzdEVsZW0uY2xhc3NMaXN0LmFkZChgY2hvb3Nlcl9fbGlzdGApO1xuICAgIGxldCBjdXJyZW50O1xuXG4gICAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICAgICAgaXRlbTogYGNob29zZXJfX2l0ZW1gLFxuICAgICAgICBjdXJyZW50OiBgY2hvb3Nlcl9faXRlbS0tY3VycmVudGBcbiAgICB9O1xuXG4gICAgbGlzdC5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1FbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgaXRlbUVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc2VzLml0ZW0pO1xuICAgICAgICBjb25zdCBpbWdQYXRoID0gYC4vaW1nLyR7aXRlbX1gO1xuICAgICAgICBpdGVtRWxlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYHVybCgke2ltZ1BhdGh9KWA7XG4gICAgICAgIGxpc3RFbGVtLmFwcGVuZENoaWxkKGl0ZW1FbGVtKTtcblxuICAgICAgICBpZihpID09PSAwKSB7XG4gICAgICAgICAgICBpdGVtRWxlbS5jbGFzc0xpc3QuYWRkKCdjaG9vc2VyX19pdGVtLS1jdXJyZW50Jyk7XG4gICAgICAgICAgICBpdGVtRWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzZXMuY3VycmVudCk7XG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlbUVsZW07XG4gICAgICAgICAgICBzZXRQYXR0ZXJuKHRhcmdldCwgaW1nUGF0aCwgc3R5bGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW1FbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc2V0UGF0dGVybih0YXJnZXQsIGltZ1BhdGgsIHN0eWxlcyk7XG4gICAgICAgICAgICBjdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3Nlcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGl0ZW1FbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5jdXJyZW50KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBpdGVtRWxlbTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBlbGVtLmFwcGVuZENoaWxkKGxpc3RFbGVtKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHNldFBhdHRlcm4odGFyZ2V0LCBpbWdQYXRoLCBzdHlsZXMpIHtcbiAgICBzdHlsZXMuaW5uZXJIVE1MID0gYCR7dGFyZ2V0fSB7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke2ltZ1BhdGh9KTtcbiAgICB9YDtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGFkZEJsb2NrcygpIHtcbiAgICBibG9ja3MuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgbGV0IHdpZHRoU2V0ID0gY29uZmlnW25hbWVdLndpZHRoO1xuICAgICAgICBjb25zdCBibG9jayA9IGl0ZW0uYmxvY2s7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGl0ZW0ucGFyZW50O1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGhTZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB3aWR0aFNldC5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRCbG9jayA9IGJsb2NrLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jayA9IGJsb2NrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jay5zdHlsZS53aWR0aCA9IGAke2l0ZW19cHhgO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jay5kYXRhc2V0LmxpbmUgPSBuYW1lO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRCbG9jay5kYXRhc2V0LnBvcyA9IGk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGN1cnJlbnRCbG9jayk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBzaG93U2l6ZXMoKSB7XG4gICAgY29uc3Qgc3VyZmFjZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3VyZmFjZVtkYXRhLWNvbnRlbnRdJyk7XG4gICAgbGV0IHNpemVzO1xuXG4gICAgc3VyZmFjZXMuZm9yRWFjaChzdXJmYWNlSXRlbSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRLZXkgPSBzdXJmYWNlSXRlbS5kYXRhc2V0LmNvbnRlbnQ7XG4gICAgICAgIGxldCBzaXplID0gZ2V0Q29tcHV0ZWRTdHlsZShzdXJmYWNlSXRlbSlbY29udGVudEtleV07XG4gICAgICAgIHNpemUgPSBzaXplLnJlcGxhY2UoJ3B4JywgJ21tJyk7XG4gICAgICAgIGNvbnN0IHNpemVUZXh0RWxlbSA9IHN1cmZhY2VJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zdXJmYWNlX19zaXplLXRleHQnKTtcbiAgICAgICAgc2l6ZVRleHRFbGVtLmlubmVySFRNTCA9IHNpemU7XG5cbiAgICAgICAgY29uc3Qgc2l6ZUVsZW0gPSBzdXJmYWNlSXRlbS5xdWVyeVNlbGVjdG9yKCcuc3VyZmFjZV9fc2l6ZScpO1xuXG4gICAgICAgIHNpemVFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYoc3VyZmFjZUl0ZW0uZGF0YXNldC5pc0VkaXRpbmcgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljaywgdGhpcyBpcyBub3QgZWRpdGVkIG5vdycpO1xuICAgICAgICAgICAgaWYoY3VycmVudFN1cmZhY2VJdGVtICYmIGN1cnJlbnRTdXJmYWNlSXRlbSAhPT0gc2l6ZUVsZW0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2l6ZVRleHRFbGVtID0gY3VycmVudFN1cmZhY2VJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5zdXJmYWNlX19zaXplLWlucHV0Jyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlU2l6ZUlucHV0KGN1cnJlbnRTdXJmYWNlSXRlbSwgY3VycmVudFNpemVUZXh0RWxlbS52YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN1cnJlbnRTdXJmYWNlSXRlbSA9IHN1cmZhY2VJdGVtO1xuICAgICAgICAgICAgYWRkU2l6ZUlucHV0KHN1cmZhY2VJdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5mdW5jdGlvbiBhZGRTaXplSW5wdXQoc3VyZmFjZUl0ZW0pIHtcbiAgICBpZihzdXJmYWNlSXRlbS5kYXRhc2V0LmlzRWRpdGluZyA9PT0gJ3RydWUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdXJmYWNlSXRlbS5kYXRhc2V0LmlzRWRpdGluZyA9IHRydWU7XG4gICAgLy8gY29uc29sZS5sb2coc3VyZmFjZUl0ZW0uZGF0YXNldC5pc0VkaXRpbmcpO1xuXG4gICAgY29uc3Qgc2l6ZVRleHRFbGVtID0gc3VyZmFjZUl0ZW0ucXVlcnlTZWxlY3RvcignLnN1cmZhY2VfX3NpemUtdGV4dCcpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gc2l6ZVRleHRFbGVtLmlubmVyVGV4dC5yZXBsYWNlKCdtbScsICcnKTtcbiAgICBzdXJmYWNlSXRlbS5kYXRhc2V0Lm9sZFZhbHVlID0gb2xkVmFsdWU7XG4gICAgY2hhbmdlU2l6ZUlucHV0LnZhbHVlID0gb2xkVmFsdWU7XG4gICAgc2l6ZVRleHRFbGVtLmlubmVySFRNTCA9ICcnO1xuICAgIHNpemVUZXh0RWxlbS5hcHBlbmRDaGlsZChjaGFuZ2VTaXplSW5wdXQpO1xuXG4gICAgY2hhbmdlU2l6ZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgY2hhbmdlU2l6ZUZvckl0ZW0pO1xuXG4gICAgLy8gSGFuZGxlIG9uZSBldmVudCBhdCB0aGUgdGltZVxuICAgIGNoYW5nZVNpemVJbnB1dC5vbmtleXVwID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIC8vIEVudGVyIG9yIGVzY2FwZVxuICAgICAgICBpZiAoZXYua2V5Q29kZSAhPT0gMTMgJiYgZXYua2V5Q29kZSAhPT0gMjcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2YWx1ZSA9IGNoYW5nZVNpemVJbnB1dC52YWx1ZTtcbiAgICAgICAgLy8gSWYgZXNjYXBlLCBzZXQgb2xkIHZhbHVlXG4gICAgICAgIGlmIChldi5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgdmFsdWUgPSBvbGRWYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYW5nZVNpemVJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGNoYW5nZVNpemVGb3JJdGVtKTtcbiAgICAgICAgcmVtb3ZlU2l6ZUlucHV0KHN1cmZhY2VJdGVtLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNoYW5nZVNpemVGb3JJdGVtKGV2KSB7XG4gICAgICAgIGlmIChzdXJmYWNlSXRlbS5kYXRhc2V0LmlzRWRpdGluZyA9PT0gJ2ZhbHNlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjaGFuZ2VTaXplKGNoYW5nZVNpemVJbnB1dC52YWx1ZSwgc3VyZmFjZUl0ZW0pO1xuICAgIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIGNoYW5nZVNpemUoc2l6ZSwgc3VyZmFjZUl0ZW0pIHtcbiAgICBjb25zdCBsaW5lID0gc3VyZmFjZUl0ZW0uZGF0YXNldC5saW5lO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBzdXJmYWNlSXRlbS5kYXRhc2V0LmNvbnRlbnQ7XG4gICAgY29uc3QgcG9zID0gc3VyZmFjZUl0ZW0uZGF0YXNldC5wb3M7XG4gICAgY29uc29sZS5sb2coc3VyZmFjZUl0ZW0uZGF0YXNldCk7XG4gICAgc3VyZmFjZUl0ZW0uc3R5bGVbY29udGVudF0gPSBgJHtzaXplfXB4YDtcblxuICAgIGlmIChwb3MpIHtcbiAgICAgICAgY29uZmlnW2xpbmVdW2NvbnRlbnRdW3Bvc10gPSArc2l6ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbmZpZ1tsaW5lXVtjb250ZW50XSA9ICtzaXplO1xuICAgIH1cblxuXG4gICAgdXBkYXRlU2l6ZXMoKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemVzKCkge1xuICAgIHNldFNpemVzKCk7XG4gICAgc2V0U2l6ZXNTdHlsZXMoKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmZ1bmN0aW9uIHJlbW92ZVNpemVJbnB1dChzdXJmYWNlSXRlbSwgdmFsdWUpIHtcbiAgICBpZiAoISFzdXJmYWNlSXRlbS5kYXRhc2V0LmlzRWRpdGluZyA9PT0gdHJ1ZSkge1xuICAgICAgICBzdXJmYWNlSXRlbS5kYXRhc2V0LmlzRWRpdGluZyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBzaXplVGV4dEVsZW0gPSBzdXJmYWNlSXRlbS5xdWVyeVNlbGVjdG9yKCcuc3VyZmFjZV9fc2l6ZS10ZXh0Jyk7XG4gICAgICAgIHNpemVUZXh0RWxlbS5pbm5lckhUTUwgPSBgJHt2YWx1ZX1tbWA7XG4gICAgICAgIGN1cnJlbnRTdXJmYWNlSXRlbSA9IG51bGw7XG5cbiAgICAgICAgY2hhbmdlU2l6ZSgrdmFsdWUsIHN1cmZhY2VJdGVtKTtcbiAgICAgICAgdXBkYXRlU2l6ZXMoKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIl0sInNvdXJjZVJvb3QiOiIifQ==